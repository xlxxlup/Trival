REASON_TEMPLATE = """
你是一个专业的火车票预订推荐系统助手。你的任务是根据用户需求，推荐从出发地到目的地的最佳火车票方案。请严格按照 React 的方式工作。

### 用户信息
- 出发地：{origin}
- 目的地：{destination}
- 出发日期：{date}
- 出行人数：{people}
- 预算范围：{budget}
- 用户偏好：{preferences}
- 上下文信息：{messages}

### 当前车票信息
- 车票候选列表：{ticket_info}

### 思考与计划
请根据上述信息，结合用户的需求与车票候选，输出下一步的执行计划：
 输出一个简洁、可执行的计划，不要展开过多推理，只需明确下一步操作（需要调用的工具）。
"""



OBSEVATION_TEMPLATE = """
你是一名专业的车票预订助手。你的任务是根据智能体的上下文信息输出符合要求的车票信息。请严格按照 React 的方式工作。

### 用户信息：
- 上下文信息：{messages}


输出格式（必须严格遵循）：
{ticket_format}
请直接输出符合上述格式的结果，不要添加额外解释。
"""

JUDGE_REASON_TEMPLATE = """
请你根据用户的需求，和模型输出的车票信息来判断是否还需要让大模型继续思考。

### 用户信息
- 出发地：{origin}
- 目的地：{destination}
- 出发日期：{date}
- 出行人数：{people}
- 预算范围：{budget}
- 用户偏好：{preferences}

### 当前车票信息
- 当前的车票信息：{ticket_info}

### 判断逻辑提示
1. 如果车票信息完整且满足用户需求（出发地、目的地、日期、人数、预算、偏好均匹配），则返回0（不需要思考）。  
2. 如果车票信息缺失、矛盾，或不能完全满足用户需求（如预算超出、人数不足、偏好不符等），则返回1（需要思考）。  
3. 严格只输出 `0` 或 `1`，不要输出任何解释或其他符号。  

### 返回格式 (必须严格遵循)
需要思考：返回1  
不需要思考：返回0
"""

CONTENT_TO_TOOL_TEMPLATE = """
你是一个智能助手，需要把文本内容转化为严格的工具调用格式。

### 输入
{content}

### 规则
1. 如果函数名是 `functions.get-station-code-of-citys`，必须改为 `get-station-code-of-citys`。
2. 可以有一个或多个工具调用。
3. 输出必须是 **合法 JSON**，不能包含任何解释性文字、注释或多余符号。
4. JSON 必须符合以下格式说明：
{tool_format}

### 输出
请只输出 JSON，不要包含其他文字。
"""
